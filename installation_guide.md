# ğŸ® Guia de InstalaÃ§Ã£o - Plugin RPG Gamification para Obsidian

## ğŸ“‹ PrÃ©-requisitos

- **Obsidian** instalado (versÃ£o 0.15.0 ou superior)
- **Node.js** (versÃ£o 16 ou superior) - para compilar o plugin
- Editor de cÃ³digo (VS Code recomendado)

---

## ğŸš€ MÃ©todo 1: InstalaÃ§Ã£o RÃ¡pida (Desenvolvimento)

### Passo 1: Preparar a pasta do plugin

1. Abra seu vault do Obsidian
2. Navegue atÃ© a pasta `.obsidian/plugins/` (se nÃ£o existir, crie-a)
3. Crie uma nova pasta chamada `gamification-rpg`

**Caminho completo:** `SEU_VAULT/.obsidian/plugins/gamification-rpg/`

### Passo 2: Adicionar os arquivos

Dentro da pasta `gamification-rpg`, crie os seguintes arquivos:

#### ğŸ“„ `manifest.json`
```json
{
  "id": "gamification-rpg",
  "name": "RPG Gamification",
  "version": "1.0.0",
  "minAppVersion": "0.15.0",
  "description": "Transforme suas tarefas em um RPG! Ganhe XP, Gold e evolua seu personagem completando tarefas.",
  "author": "Sistema Gamificado",
  "authorUrl": "https://obsidian.md",
  "isDesktopOnly": false
}
```

#### ğŸ“„ `main.ts`
Cole o cÃ³digo TypeScript completo fornecido anteriormente.

#### ğŸ“„ `package.json`
```json
{
  "name": "gamification-rpg",
  "version": "1.0.0",
  "description": "Plugin RPG para Obsidian",
  "main": "main.js",
  "scripts": {
    "dev": "node esbuild.config.mjs",
    "build": "tsc -noEmit -skipLibCheck && node esbuild.config.mjs production"
  },
  "keywords": [],
  "author": "",
  "license": "MIT",
  "devDependencies": {
    "@types/node": "^16.11.6",
    "@typescript-eslint/eslint-plugin": "5.29.0",
    "@typescript-eslint/parser": "5.29.0",
    "builtin-modules": "3.3.0",
    "esbuild": "0.17.3",
    "obsidian": "latest",
    "tslib": "2.4.0",
    "typescript": "4.7.4"
  }
}
```

#### ğŸ“„ `tsconfig.json`
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "inlineSourceMap": true,
    "inlineSources": true,
    "module": "ESNext",
    "target": "ES6",
    "allowJs": true,
    "noImplicitAny": true,
    "moduleResolution": "node",
    "importHelpers": true,
    "isolatedModules": true,
    "strictNullChecks": true,
    "lib": ["DOM", "ES5", "ES6", "ES7"],
    "skipLibCheck": true
  },
  "include": ["**/*.ts"]
}
```

#### ğŸ“„ `esbuild.config.mjs`
```javascript
import esbuild from "esbuild";
import process from "process";
import builtins from "builtin-modules";

const banner = `/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
`;

const prod = process.argv[2] === "production";

const context = await esbuild.context({
  banner: { js: banner },
  entryPoints: ["main.ts"],
  bundle: true,
  external: [
    "obsidian",
    "electron",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/highlight",
    "@lezer/lr",
    ...builtins
  ],
  format: "cjs",
  target: "es2018",
  logLevel: "info",
  sourcemap: prod ? false : "inline",
  treeShaking: true,
  outfile: "main.js",
});

if (prod) {
  await context.rebuild();
  process.exit(0);
} else {
  await context.watch();
}
```

### Passo 3: Compilar o plugin

1. Abra o terminal na pasta `gamification-rpg`
2. Execute os comandos:

```bash
# Instalar dependÃªncias
npm install

# Compilar o plugin
npm run build
```

### Passo 4: Ativar no Obsidian

1. Abra o Obsidian
2. VÃ¡ em **Settings** (âš™ï¸) â†’ **Community plugins**
3. Clique em **Turn on community plugins** (se necessÃ¡rio)
4. Encontre **"RPG Gamification"** na lista
5. Ative o toggle âœ…

---

## ğŸ¯ MÃ©todo 2: InstalaÃ§Ã£o Simplificada (Sem CompilaÃ§Ã£o)

Se vocÃª nÃ£o quiser compilar, pode usar uma versÃ£o prÃ©-compilada:

### OpÃ§Ã£o A: Usando arquivos compilados

1. Crie a pasta `.obsidian/plugins/gamification-rpg/`
2. Adicione apenas:
   - `manifest.json`
   - `main.js` (versÃ£o compilada)
3. Ative o plugin no Obsidian

### OpÃ§Ã£o B: Hot Reload para desenvolvimento

```bash
# Modo desenvolvimento com auto-reload
npm run dev
```

---

## ğŸ® Como Usar o Plugin

### 1ï¸âƒ£ Primeira ConfiguraÃ§Ã£o

ApÃ³s ativar o plugin:

1. Clique no Ã­cone ğŸ® na barra lateral esquerda
2. Ou use o comando: `Ctrl/Cmd + P` â†’ "Abrir Dashboard RPG"
3. Configure seu personagem em **Settings** â†’ **RPG Gamification**:
   - Escolha o nome
   - Selecione gÃªnero (Masculino/Feminino)
   - Escolha a classe (Guerreiro, Arqueiro, Mago)

### 2ï¸âƒ£ Adicionando Tarefas

**MÃ©todo 1: Pelo Dashboard**
- Clique em "â• Adicionar Tarefa"
- Digite a descriÃ§Ã£o
- Escolha o tamanho (Pequena/MÃ©dia/Grande)
- Clique em "Completar"

**MÃ©todo 2: Por Comandos**
- `Ctrl/Cmd + P` â†’ Digite:
  - "Adicionar Tarefa Pequena" (+5 XP, +2 Gold)
  - "Adicionar Tarefa MÃ©dia" (+15 XP, +5 Gold)
  - "Adicionar Tarefa Grande" (+30 XP, +10 Gold)

### 3ï¸âƒ£ Sistema de Recompensas

| Tarefa | XP | Gold | Exemplo |
|--------|----|----- |---------|
| âœ… Pequena | 5 | 2 | Responder emails, ler artigo |
| âš”ï¸ MÃ©dia | 15 | 5 | Escrever relatÃ³rio, estudar 1h |
| ğŸ† Grande | 30 | 10 | Concluir projeto, prova importante |

### 4ï¸âƒ£ MissÃµes Especiais

- **ğŸŒ… DiÃ¡ria**: Complete 3 tarefas (qualquer tamanho) â†’ **+10 XP bÃ´nus**
- **ğŸ“… Semanal**: Complete 5 tarefas mÃ©dias/grandes â†’ **+50 XP**
- **ğŸ—“ï¸ Mensal**: Complete 3 tarefas grandes â†’ **+100 XP + item raro**

### 5ï¸âƒ£ Loja de Itens

Clique em "ğŸª Loja" para comprar equipamentos:

**Armas** (aumentam ATK):
- Espada de AÃ§o: 25 Gold (+5 ATK)
- Arco Ã‰lfico: 30 Gold (+7 ATK)
- Cajado MÃ­stico: 35 Gold (+8 ATK)

**Armaduras** (aumentam DEF):
- Armadura de Couro: 20 Gold (+5 DEF)
- Armadura de Ferro: 45 Gold (+10 DEF)
- Capa de Energia: 40 Gold (+8 DEF, +10 HP)

**PoÃ§Ãµes** (restauram HP):
- PoÃ§Ã£o de Vida: 5 Gold (+10 HP)
- PoÃ§Ã£o Grande: 15 Gold (+30 HP)

### 6ï¸âƒ£ Sistema de NÃ­veis

- A cada **100 XP** vocÃª sobe 1 nÃ­vel
- Ao subir de nÃ­vel:
  - â¤ï¸ +10 HP mÃ¡ximo
  - âš”ï¸ +2 ATK
  - ğŸ›¡ï¸ +1 DEF

---

## ğŸ”§ Troubleshooting

### Plugin nÃ£o aparece na lista

âœ… **SoluÃ§Ã£o:**
1. Verifique se a pasta estÃ¡ em `.obsidian/plugins/gamification-rpg/`
2. Confirme que `manifest.json` estÃ¡ presente
3. Reinicie o Obsidian

### Erro ao compilar

âœ… **SoluÃ§Ã£o:**
```bash
# Limpar e reinstalar
rm -rf node_modules package-lock.json
npm install
npm run build
```

### Plugin ativa mas nÃ£o funciona

âœ… **SoluÃ§Ã£o:**
1. Abra o Console de Desenvolvedor: `Ctrl/Cmd + Shift + I`
2. Verifique erros na aba Console
3. Tente desativar e reativar o plugin

### Dashboard nÃ£o abre

âœ… **SoluÃ§Ã£o:**
1. Use o comando: `Ctrl/Cmd + P` â†’ "Abrir Dashboard RPG"
2. Ou clique no Ã­cone ğŸ® na barra lateral
3. Verifique se o plugin estÃ¡ ativado em Community Plugins

---

## ğŸ“Š Estrutura de Arquivos Final

```
SEU_VAULT/
â””â”€â”€ .obsidian/
    â””â”€â”€ plugins/
        â””â”€â”€ gamification-rpg/
            â”œâ”€â”€ main.js          (compilado)
            â”œâ”€â”€ main.ts          (fonte)
            â”œâ”€â”€ manifest.json
            â”œâ”€â”€ package.json
            â”œâ”€â”€ tsconfig.json
            â”œâ”€â”€ esbuild.config.mjs
            â””â”€â”€ node_modules/    (apÃ³s npm install)
```

---

## ğŸ¨ Personalizando o Plugin

### Adicionar novos itens Ã  loja

Edite o arquivo `main.ts` e adicione itens ao array `DEFAULT_SHOP_ITEMS`:

```typescript
{
  name: 'Espada LendÃ¡ria',
  type: 'weapon',
  cost: 100,
  bonus: { atk: 25 }
}
```

### Ajustar valores de XP

Modifique o objeto `rewards` na funÃ§Ã£o `addTask()`:

```typescript
const rewards = {
  small: { xp: 10, gold: 5 },  // Aumentar recompensas
  medium: { xp: 25, gold: 10 },
  large: { xp: 50, gold: 20 }
};
```

### Mudar velocidade de levelup

Na funÃ§Ã£o `checkLevelUp()`, altere a fÃ³rmula:

```typescript
const xpNeeded = char.level * 50; // Mais rÃ¡pido
// ou
const xpNeeded = char.level * 200; // Mais lento
```

---

## ğŸ†˜ Suporte

### Recursos Ãšteis

- [DocumentaÃ§Ã£o Obsidian API](https://docs.obsidian.md/Plugins)
- [FÃ³rum Obsidian](https://forum.obsidian.md/)
- [TypeScript Docs](https://www.typescriptlang.org/docs/)

### Problemas Comuns

1. **"Cannot find module 'obsidian'"**
   - Execute: `npm install`

2. **"esbuild: command not found"**
   - Execute: `npm install esbuild`

3. **Plugin compilado mas nÃ£o funciona**
   - Verifique a versÃ£o do Node.js: `node --version` (deve ser 16+)
   - Limpe o cache: `npm cache clean --force`

---

## ğŸ‰ Pronto!

Agora vocÃª tem um sistema RPG completo integrado ao Obsidian! 

**Dicas para comeÃ§ar:**
1. âœ… Configure seu personagem
2. âš”ï¸ Complete sua primeira tarefa
3. ğŸ’° Junte Gold e compre equipamentos
4. ğŸ¯ Foque nas missÃµes diÃ¡rias para ganhar bÃ´nus
5. ğŸ“ˆ Acompanhe sua evoluÃ§Ã£o no Dashboard

**Boa aventura! ğŸ—¡ï¸ğŸ›¡ï¸âœ¨**